import{A as _,t as C,a as w}from"./@element-plus_icons-vue@2.3.1_vue@3.5.16_typescript@5.5.4_-BbJVLfPu.js";import{b as F}from"./index-DmF6C1yQ.js";import{H as x,y as A}from"./lodash-es@4.17.21-5_SSvygx.js";import{d as j,v as H,w as p,i as O,l as t,$ as s,_ as z,C as D}from"./@vue_runtime-core@3.5.16-DNpmjUA2.js";import{u as f}from"./@vue_reactivity@3.5.16-fU77kzLc.js";import"./@vue_runtime-dom@3.5.16-DflgTdyk.js";import"./@vue_shared@3.5.16-Dkxi7RdN.js";import"./@vueuse_core@12.8.2_typescript@5.5.4-DGup_1qK.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-BsA5SRX8.js";import"./store@2.0.12-BYMheg-V.js";import"./dayjs@1.11.13-BIiDHjGT.js";import"./mitt@3.0.1-C1z4c41a.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.16_typescript@5.5.4_-CF7xEUeK.js";import"./vue-router@4.5.1_vue@3.5.16_typescript@5.5.4_-BpTAww-U.js";import"./element-plus@2.10.2_vue@3.5.16_typescript@5.5.4_-o76SzKsV.js";import"./@vueuse_shared@9.13.0_vue@3.5.16_typescript@5.5.4_-CLudCabT.js";import"./@vueuse_core@9.13.0_vue@3.5.16_typescript@5.5.4_-B7bVexyo.js";import"./@sxzz_popperjs-es@2.11.7-D_chPuIy.js";import"./@ctrl_tinycolor@3.6.1-r5W6hzzQ.js";import"./async-validator@4.2.5-CDKkdPIV.js";import"./memoize-one@6.0.0-BdPwpGay.js";import"./normalize-wheel-es@1.2.0-BQoi3Ox2.js";import"./@floating-ui_dom@1.7.1-Ba-2EiSn.js";import"./@floating-ui_core@1.7.1-C83JrwzW.js";import"./@floating-ui_utils@0.2.9-CBkBHzV8.js";import"./vue-i18n@11.1.5_vue@3.5.16_typescript@5.5.4_-ChhaddF7.js";import"./@intlify_core-base@11.1.5-rFPZQXdu.js";import"./@intlify_shared@11.1.5-CY44FrR8.js";import"./@intlify_message-compiler@11.1.5-CZ-uatfp.js";import"./axios@1.9.0-D--XfsWq.js";import"./nprogress@0.2.0-tbY8o1C4.js";function M(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!z(l)}const me=j({name:"cl-dialog",components:{Close:w,FullScreen:C,Minus:_},props:{modelValue:{type:Boolean,default:!1},props:Object,title:{type:String,default:"-"},height:String,width:{type:String,default:"50%"},padding:{type:String,default:"20px"},keepAlive:Boolean,fullscreen:Boolean,controls:{type:Array,default:()=>["fullscreen","close"]},hideHeader:Boolean,beforeClose:Function,scrollbar:{type:Boolean,default:!0},transparent:Boolean},emits:["update:modelValue","fullscreen-change"],setup(l,{emit:g,expose:B,slots:o}){const m=F(),h=f(),r=f(!1),i=f(!1),b=f(0),u=H(()=>m&&m.isMini?!0:r.value);p(()=>l.modelValue,e=>{i.value=e,e&&!l.keepAlive&&(b.value+=1)},{immediate:!0}),p(()=>l.fullscreen,e=>{r.value=e},{immediate:!0}),p(r,e=>{g("fullscreen-change",e)}),D("dialog",{visible:i,fullscreen:u});function k(){r.value=!0}function v(){function e(){y()}l.beforeClose?l.beforeClose(e):e()}function y(){g("update:modelValue",!1)}function d(e){r.value=x(e)?!!e:!r.value}function V(){A(l.controls)&&l.controls.includes("fullscreen")&&d()}function S(){return l.hideHeader||t("div",{class:"cl-dialog__header",onDblclick:V},[t("span",{class:"cl-dialog__title"},[l.title]),t("div",{class:"cl-dialog__controls"},[l.controls.map(e=>{var n;switch(e){case"fullscreen":return m.screen==="xs"?null:u.value?t("button",{type:"button",class:"minimize",onClick:()=>{d(!1)}},[t(s("el-icon"),null,{default:()=>[t(_,null,null)]})]):t("button",{type:"button",class:"maximize",onClick:()=>{d(!0)}},[t(s("el-icon"),null,{default:()=>[t(C,null,null)]})]);case"close":return t("button",{type:"button",class:"close",onClick:v},[t(s("el-icon"),null,{default:()=>[t(w,null,null)]})]);default:return(n=o.default)==null?void 0:n.call(o)}})])])}return B({Dialog:h,visible:i,isFullscreen:u,open:k,close:v,changeFullscreen:d}),()=>O(t(s("el-dialog"),{ref:h,class:["cl-dialog",{"is-transparent":l.transparent}],width:l.width,beforeClose:l.beforeClose,"show-close":!1,"append-to-body":!0,fullscreen:u.value,modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,onClose:y},null),{},{header(){return S()},default(){const e=u.value?"100%":l.height,n={padding:l.padding,height:e};function c(){var a;return t("div",{class:"cl-dialog__default",style:n,key:b.value},[(a=o.default)==null?void 0:a.call(o)])}if(l.scrollbar){let a;return n.height="auto",t(s("el-scrollbar"),{height:e},M(a=c())?a:{default:()=>[a]})}else return c()},footer(){var n,c;const e=(n=o.footer)==null?void 0:n.call(o);return e&&((c=e[0])!=null&&c.shapeFlag)?t("div",{class:"cl-dialog__footer"},[e]):null}})}});export{me as default};
