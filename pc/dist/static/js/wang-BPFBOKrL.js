import{T as U,E as k}from"./@wangeditor_editor-for-vue@5.1.12_@wangeditor_editor@5.1.23_vue@3.5.16_typescript@5.5.4_-CpogjORd.js";import{u as x,p as I}from"./index-DmF6C1yQ.js";import"./@wangeditor_editor@5.1.23-SJUdmLsf.js";import{y as A}from"./lodash-es@4.17.21-5_SSvygx.js";import{d as y,w as b,O as M,$ as h,c as C,o as d,H as w,K as z,l as f}from"./@vue_runtime-core@3.5.16-DNpmjUA2.js";import{u as R}from"./vue-i18n@11.1.5_vue@3.5.16_typescript@5.5.4_-ChhaddF7.js";import{x as T,u as $,y as n}from"./@vue_reactivity@3.5.16-fU77kzLc.js";import{q,p as D}from"./@vue_shared@3.5.16-Dkxi7RdN.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@vue_runtime-dom@3.5.16-DflgTdyk.js";import"./@vueuse_core@12.8.2_typescript@5.5.4-DGup_1qK.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-BsA5SRX8.js";import"./store@2.0.12-BYMheg-V.js";import"./dayjs@1.11.13-BIiDHjGT.js";import"./mitt@3.0.1-C1z4c41a.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.16_typescript@5.5.4_-CF7xEUeK.js";import"./vue-router@4.5.1_vue@3.5.16_typescript@5.5.4_-BpTAww-U.js";import"./element-plus@2.10.2_vue@3.5.16_typescript@5.5.4_-o76SzKsV.js";import"./@vueuse_shared@9.13.0_vue@3.5.16_typescript@5.5.4_-CLudCabT.js";import"./@vueuse_core@9.13.0_vue@3.5.16_typescript@5.5.4_-B7bVexyo.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.16_typescript@5.5.4_-BbJVLfPu.js";import"./@sxzz_popperjs-es@2.11.7-D_chPuIy.js";import"./@ctrl_tinycolor@3.6.1-r5W6hzzQ.js";import"./async-validator@4.2.5-CDKkdPIV.js";import"./memoize-one@6.0.0-BdPwpGay.js";import"./normalize-wheel-es@1.2.0-BQoi3Ox2.js";import"./@floating-ui_dom@1.7.1-Ba-2EiSn.js";import"./@floating-ui_core@1.7.1-C83JrwzW.js";import"./@floating-ui_utils@0.2.9-CBkBHzV8.js";import"./axios@1.9.0-D--XfsWq.js";import"./nprogress@0.2.0-tbY8o1C4.js";import"./@intlify_core-base@11.1.5-rFPZQXdu.js";import"./@intlify_shared@11.1.5-CY44FrR8.js";import"./@intlify_message-compiler@11.1.5-CZ-uatfp.js";const K={key:2,class:"upload-inner"},P=y({name:"undefined"}),j=y({...P,name:"cl-editor-wang",props:{modelValue:String,mode:{type:String,default:"default"},height:{type:[String,Number],default:500},disabled:Boolean,preview:Boolean,isSpace:{type:Boolean,default:!1}},emits:["update:modelValue","change","focus","blur"],setup(t,{emit:F}){const i=t,m=F,{refs:u,setRefs:s}=x(),{t:B}=R(),r=T(),a=$();b(()=>i.modelValue,e=>{a.value=e||""},{immediate:!0});const l={insertFn:null},p={placeholder:B("请输入"),MENU_CONF:{uploadImage:{},uploadVideo:{customBrowseAndUpload(e){l.insertFn=e,u.video.open()}}}};i.isSpace?p.MENU_CONF.uploadImage.customBrowseAndUpload=e=>{l.insertFn=e,u.image.open()}:p.MENU_CONF.uploadImage.customUpload=(e,o)=>{l.insertFn=o,u.image.upload(e)};function _(e){r.value=e,g()}function V(e){m("focus",e)}function N(e){m("blur",e)}function E(){a.value=="<p><br></p>"&&(a.value=""),m("update:modelValue",a.value),m("change",a.value)}function c(e){A(e)||(e=[e]),e.length>0&&e.forEach(o=>{l.insertFn&&l.insertFn(o.url)})}function g(){var e,o;i.disabled||i.preview?(e=r.value)==null||e.disable():(o=r.value)==null||o.enable()}return b(()=>[i.disabled,i.preview],g),M(()=>{const e=r.value;e!=null&&e.destroy()}),(e,o)=>{const v=h("cl-upload-space"),O=h("cl-upload");return d(),C("div",{ref:n(s)("editor"),class:D(["cl-editor-wang",{disabled:t.disabled}])},[t.preview?z("",!0):(d(),w(n(U),{key:0,editor:r.value,mode:t.mode},null,8,["editor","mode"])),f(n(k),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=S=>a.value=S),"default-config":p,mode:t.mode,style:q({height:n(I)(t.height)}),onOnCreated:_,onOnFocus:V,onOnBlur:N,onOnChange:E},null,8,["modelValue","mode","style"]),f(v,{ref:n(s)("video"),accept:"video/*","show-btn":!1,onConfirm:c},null,512),t.isSpace?(d(),w(v,{key:1,ref:n(s)("image"),accept:"image/*","show-btn":!1,onConfirm:c},null,512)):(d(),C("div",K,[f(O,{ref:n(s)("image"),accept:"image/*",onSuccess:c},null,512)]))],2)}}}),Ne=H(j,[["__scopeId","data-v-bc4fb2c6"]]);export{Ne as default};
