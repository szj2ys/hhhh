import{b as R}from"./@vueuse_core@12.8.2_typescript@5.5.4-DGup_1qK.js";import{u as Y}from"./index-DmF6C1yQ.js";import"./store@2.0.12-BYMheg-V.js";import{w as q,F as G}from"./lodash-es@4.17.21-5_SSvygx.js";import{E as Q}from"./element-plus@2.10.2_vue@3.5.16_typescript@5.5.4_-o76SzKsV.js";import{d as T,v as u,$ as m,c as C,o as l,D as V,l as E,H as p,K as w,I as s,M as k,a as F,F as O,Y as W,E as X,n as Z}from"./@vue_runtime-core@3.5.16-DNpmjUA2.js";import{u as ee}from"./vue-i18n@11.1.5_vue@3.5.16_typescript@5.5.4_-ChhaddF7.js";import{u as d,y as te}from"./@vue_reactivity@3.5.16-fU77kzLc.js";import{O as y}from"./@vue_shared@3.5.16-Dkxi7RdN.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-BsA5SRX8.js";import"./@vue_runtime-dom@3.5.16-DflgTdyk.js";import"./mitt@3.0.1-C1z4c41a.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.16_typescript@5.5.4_-CF7xEUeK.js";import"./vue-router@4.5.1_vue@3.5.16_typescript@5.5.4_-BpTAww-U.js";import"./axios@1.9.0-D--XfsWq.js";import"./nprogress@0.2.0-tbY8o1C4.js";import"./dayjs@1.11.13-BIiDHjGT.js";import"./@vueuse_shared@9.13.0_vue@3.5.16_typescript@5.5.4_-CLudCabT.js";import"./@vueuse_core@9.13.0_vue@3.5.16_typescript@5.5.4_-B7bVexyo.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.16_typescript@5.5.4_-BbJVLfPu.js";import"./@sxzz_popperjs-es@2.11.7-D_chPuIy.js";import"./@ctrl_tinycolor@3.6.1-r5W6hzzQ.js";import"./async-validator@4.2.5-CDKkdPIV.js";import"./memoize-one@6.0.0-BdPwpGay.js";import"./normalize-wheel-es@1.2.0-BQoi3Ox2.js";import"./@floating-ui_dom@1.7.1-Ba-2EiSn.js";import"./@floating-ui_core@1.7.1-C83JrwzW.js";import"./@floating-ui_utils@0.2.9-CBkBHzV8.js";import"./@intlify_core-base@11.1.5-rFPZQXdu.js";import"./@intlify_shared@11.1.5-CY44FrR8.js";import"./@intlify_message-compiler@11.1.5-CZ-uatfp.js";const ae={class:"cl-editor-preview"},ne={class:"cl-editor-preview__container"},le={key:1,class:"content"},re=T({name:"undefined"}),ie=T({...re,name:"cl-editor-preview",props:{modelValue:String,title:String,name:String,text:String,type:{type:String,default:"text"},showBtn:{type:Boolean,default:!0},height:{type:String,default:"60vh"},width:{type:String,default:"60%"},formatter:Function,tabs:Array,props:Object},setup(r,{expose:I}){const o=r,{refs:U,setRefs:j}=Y(),{copy:z}=R(),{t:c}=ee(),f=d(!1),i=d(""),S=d(),b=d(0),v=d([]),_=u(()=>o.type=="code"),D=u(()=>_),M=u(()=>({language:S.value,...o.props})),A=u(()=>o.title||(_.value?c("代码预览"):c("文本预览"))),H=u(()=>o.text||c("点击查看"));async function $(e){e||(e=o.modelValue),o.formatter&&(e=o.formatter(e)),o.tabs?(v.value=o.tabs,N(0)):B(e),f.value=!0}function B(e){q(e)?i.value=e:G(e)&&(i.value=JSON.stringify(e,null,4))}async function N(e){var a,g;const t=v.value[e];S.value=t.language,B(t.data),await Z(),_.value&&((g=(a=U.editor)==null?void 0:a.formatCode)==null||g.call(a))}function x(){f.value=!1}function J(){z(i.value),Q.success(c("复制成功"))}return I({open:$,close:x}),(e,t)=>{const a=m("el-button"),g=m("el-tab-pane"),K=m("el-tabs"),L=m("cl-editor"),P=m("cl-dialog");return l(),C(O,null,[V(e.$slots,"default",{},()=>[r.showBtn?(l(),p(a,{key:0,onClick:t[0]||(t[0]=n=>$())},{default:s(()=>[k(y(H.value),1)]),_:1})):w("",!0)],!0),E(P,{modelValue:f.value,"onUpdate:modelValue":t[3]||(t[3]=n=>f.value=n),height:r.height,width:r.width,title:A.value,scrollbar:"","append-to-body":""},{footer:s(()=>[E(a,{onClick:x},{default:s(()=>[k(y(e.$t("关闭")),1)]),_:1}),D.value?(l(),p(a,{key:0,type:"success",onClick:J},{default:s(()=>[k(y(e.$t("复制")),1)]),_:1})):w("",!0)]),default:s(()=>[F("div",ae,[v.value.length>1?(l(),p(K,{key:0,modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=n=>b.value=n),type:"card",onTabChange:N},{default:s(()=>[(l(!0),C(O,null,W(v.value,(n,h)=>(l(),p(g,{key:h,label:n.name,name:h,lazy:h!=0},null,8,["label","name","lazy"]))),128))]),_:1},8,["modelValue"])):w("",!0),F("div",ne,[V(e.$slots,"prepend",{},void 0,!0),r.name?(l(),p(L,X({ref:te(j)("editor"),key:b.value},M.value,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=n=>i.value=n),name:`cl-editor-${r.name}`,height:"100%",preview:""}),null,16,["modelValue","name"])):(l(),C("div",le,y(i.value),1)),V(e.$slots,"append",{},void 0,!0)])])]),_:3},8,["modelValue","height","width","title"])],64)}}}),Ae=oe(ie,[["__scopeId","data-v-037211af"]]);export{Ae as default};
