import{u as g}from"./comm-Ba3vmJ1R.js";import{C}from"./index-l1IOnGdE.js";import{N as V,D as b}from"./lodash-es@4.17.21-BYk7DlcU.js";import{b as B,a as d}from"./element-plus@2.9.11_vue@3.5.16_typescript@5.5.4_-BTKo5Rtv.js";import{d as w,w as N,i as k,P as x}from"./@vue_runtime-core@3.5.16-Cn8z-kNe.js";import{u as y}from"./vue-i18n@11.1.5_vue@3.5.16_typescript@5.5.4_-Bqjl69Su.js";import{v as r}from"./@vue_reactivity@3.5.16-Dqy0TPbS.js";import"./@vue_runtime-dom@3.5.16-DriBzn4z.js";import"./@vue_shared@3.5.16-UwmvJIHj.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.16_typescript@5.5.4_-CeLFb4Nw.js";import"./@vueuse_shared@9.13.0_vue@3.5.16_typescript@5.5.4_-4q0MSQPl.js";import"./@vueuse_core@9.13.0_vue@3.5.16_typescript@5.5.4_-DmiypGF2.js";import"./@sxzz_popperjs-es@2.11.7-D_chPuIy.js";import"./@ctrl_tinycolor@3.6.1-r5W6hzzQ.js";import"./dayjs@1.11.13-DUxgsv0d.js";import"./chardet@2.1.0-CTPPlwpv.js";import"./async-validator@4.2.5-CDKkdPIV.js";import"./memoize-one@6.0.0-BdPwpGay.js";import"./normalize-wheel-es@1.2.0-BQoi3Ox2.js";import"./@floating-ui_dom@1.7.1-Ba-2EiSn.js";import"./@floating-ui_core@1.7.1-C83JrwzW.js";import"./@floating-ui_utils@0.2.9-CBkBHzV8.js";import"./@intlify_core-base@11.1.5-rFPZQXdu.js";import"./@intlify_shared@11.1.5-CY44FrR8.js";import"./@intlify_message-compiler@11.1.5-CZ-uatfp.js";const _=w({name:"cl-switch",props:{...C,modelValue:[Number,String,Boolean],activeValue:{type:[Number,String,Boolean],default:1},inactiveValue:{type:[Number,String,Boolean],default:0},api:Function,isCheck:Boolean},emits:["update:modelValue","change"],setup(t,{emit:a}){const{t:i}=y(),p=g(),o=r(),n=r(),u=r();N(()=>t.modelValue,e=>{if(o.value=e,e!==void 0&&V(e))return n.value=!0,u.value=!1,!0;n.value=t.activeValue,u.value=t.inactiveValue},{immediate:!0});function f(e){const l=()=>{var m;if(t.column&&t.scope){if(e!==void 0&&(o.value===n.value||o.value===u.value)){const s={id:t.scope.id,[t.column.property]:e},c=b(t.api)?t.api(s):(m=p.value)==null?void 0:m.service.update(s);c&&c.then(()=>{a("update:modelValue",e),a("change",e),d.success(i("更新成功"))}).catch(h=>{d.error(h.message)})}}else a("update:modelValue",e),a("change",e)};t.isCheck?B.confirm(i(e?"确定要开启吗？":"确定要关闭吗？"),i("提示"),{type:"warning"}).then(()=>{l()}).catch(()=>null):l()}function v(e){e.stopPropagation()}return()=>k(x("el-switch"),{"model-value":o.value,"active-value":n.value,"inactive-value":u.value,disabled:t.disabled,onChange:f,onClick:v},null)}});export{_ as default};
