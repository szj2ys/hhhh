import{T as O,E as k}from"./@wangeditor_editor-for-vue@5.1.12_@wangeditor_editor@5.1.23_vue@3.5.16_typescript@5.5.4_-hwSLwrkl.js";import{u as x,y as I}from"./index-BDeQYItE.js";import"./@wangeditor_editor@5.1.23-BkKi5q28.js";import{y as M}from"./lodash-es@4.17.21-BYk7DlcU.js";import{d as w,w as b,M as z,P as h,c as C,o as s,y,z as A,i as f}from"./@vue_runtime-core@3.5.16-Cn8z-kNe.js";import{u as P}from"./vue-i18n@11.1.5_vue@3.5.16_typescript@5.5.4_-Bqjl69Su.js";import{x as R,v as T,y as i}from"./@vue_reactivity@3.5.16-Dqy0TPbS.js";import{q,p as D}from"./@vue_shared@3.5.16-UwmvJIHj.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@vue_runtime-dom@3.5.16-DriBzn4z.js";import"./@vueuse_core@12.8.2_typescript@5.5.4-7kYVjNRB.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-CuUdMqkw.js";import"./store@2.0.12-i6xqVJod.js";import"./chardet@2.1.0-CTPPlwpv.js";import"./mitt@3.0.1-C1z4c41a.js";import"./@codemirror_language-data@6.5.1-Blx1hvTn.js";import"./@codemirror_language@6.11.1-BYrSuhr8.js";import"./@lezer_common@1.2.3-CP7NCNqd.js";import"./@codemirror_state@6.5.2-DQ6R6BiX.js";import"./@marijn_find-cluster-break@1.0.2-DXwl3gUT.js";import"./@codemirror_view@6.37.1-Bd3_Yh4F.js";import"./style-mod@4.1.2-Bc2inJdb.js";import"./w3c-keyname@2.2.8-Vcq4gwWv.js";import"./@lezer_highlight@1.2.1-DwVMghhY.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.16_typescript@5.5.4_-BZ2tmr1d.js";import"./vue-router@4.5.1_vue@3.5.16_typescript@5.5.4_-ODt3CAxp.js";import"./element-plus@2.9.11_vue@3.5.16_typescript@5.5.4_-BTKo5Rtv.js";import"./@vueuse_shared@9.13.0_vue@3.5.16_typescript@5.5.4_-4q0MSQPl.js";import"./@vueuse_core@9.13.0_vue@3.5.16_typescript@5.5.4_-DmiypGF2.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.16_typescript@5.5.4_-CeLFb4Nw.js";import"./@sxzz_popperjs-es@2.11.7-D_chPuIy.js";import"./@ctrl_tinycolor@3.6.1-r5W6hzzQ.js";import"./dayjs@1.11.13-DUxgsv0d.js";import"./async-validator@4.2.5-CDKkdPIV.js";import"./memoize-one@6.0.0-BdPwpGay.js";import"./normalize-wheel-es@1.2.0-BQoi3Ox2.js";import"./@floating-ui_dom@1.7.1-Ba-2EiSn.js";import"./@floating-ui_core@1.7.1-C83JrwzW.js";import"./@floating-ui_utils@0.2.9-CBkBHzV8.js";import"./comm-Ba3vmJ1R.js";import"./vue-echarts@7.0.3_@vue_runtime-core@3.5.16_echarts@5.6.0_vue@3.5.16_typescript@5.5.4_-Dhz4IGE5.js";import"./echarts@5.6.0-DvAKqd2B.js";import"./tslib@2.3.0-BDyQ-Jie.js";import"./zrender@5.6.1-DcQm8NwP.js";import"./axios@1.9.0-D--XfsWq.js";import"./nprogress@0.2.0-dOd6e7EG.js";import"./@intlify_core-base@11.1.5-rFPZQXdu.js";import"./@intlify_shared@11.1.5-CY44FrR8.js";import"./@intlify_message-compiler@11.1.5-CZ-uatfp.js";const j={key:2,class:"upload-inner"},G=w({name:"undefined"}),H=w({...G,name:"cl-editor-wang",props:{modelValue:String,mode:{type:String,default:"default"},height:{type:[String,Number],default:500},disabled:Boolean,preview:Boolean,isSpace:{type:Boolean,default:!1}},emits:["update:modelValue","change","focus","blur"],setup(t,{emit:F}){const r=t,l=F,{refs:d,setRefs:p}=x(),{t:B}=P(),n=R(),a=T();b(()=>r.modelValue,e=>{a.value=e||""},{immediate:!0});const m={insertFn:null},u={placeholder:B("请输入"),MENU_CONF:{uploadImage:{},uploadVideo:{customBrowseAndUpload(e){m.insertFn=e,d.video.open()}}}};r.isSpace?u.MENU_CONF.uploadImage.customBrowseAndUpload=e=>{m.insertFn=e,d.image.open()}:u.MENU_CONF.uploadImage.customUpload=(e,o)=>{m.insertFn=o,d.image.upload(e)};function _(e){n.value=e,g()}function V(e){l("focus",e)}function N(e){l("blur",e)}function E(){a.value=="<p><br></p>"&&(a.value=""),l("update:modelValue",a.value),l("change",a.value)}function c(e){M(e)||(e=[e]),e.length>0&&e.forEach(o=>{m.insertFn&&m.insertFn(o.url)})}function g(){var e,o;r.disabled||r.preview?(e=n.value)==null||e.disable():(o=n.value)==null||o.enable()}return b(()=>[r.disabled,r.preview],g),z(()=>{const e=n.value;e!=null&&e.destroy()}),(e,o)=>{const v=h("cl-upload-space"),S=h("cl-upload");return s(),C("div",{ref:i(p)("editor"),class:D(["cl-editor-wang",{disabled:t.disabled}])},[t.preview?A("",!0):(s(),y(i(O),{key:0,editor:n.value,mode:t.mode},null,8,["editor","mode"])),f(i(k),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=U=>a.value=U),"default-config":u,mode:t.mode,style:q({height:i(I)(t.height)}),onOnCreated:_,onOnFocus:V,onOnBlur:N,onOnChange:E},null,8,["modelValue","mode","style"]),f(v,{ref:i(p)("video"),accept:"video/*","show-btn":!1,onConfirm:c},null,512),t.isSpace?(s(),y(v,{key:1,ref:i(p)("image"),accept:"image/*","show-btn":!1,onConfirm:c},null,512)):(s(),C("div",j,[f(S,{ref:i(p)("image"),accept:"image/*",onSuccess:c},null,512)]))],2)}}}),De=$(H,[["__scopeId","data-v-bc4fb2c6"]]);export{De as default};
