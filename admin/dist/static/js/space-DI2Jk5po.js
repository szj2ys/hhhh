import{u as I}from"./index-C5WS2hJt.js";import"./store@2.0.12-i6xqVJod.js";import{_ as L}from"./space-inner.vue_vue_type_style_index_0_lang-BK-QRXrT.js";import{B as P,x as U}from"./lodash-es@4.17.21-BYk7DlcU.js";import{d as S,v as B,e as z,w as A,P as g,c as C,o as _,x as D,y as H,z as w,i as r,H as m,J as x,E as J,F as M,n as O}from"./@vue_runtime-core@3.5.16-Cn8z-kNe.js";import{u as R}from"./vue-i18n@11.1.5_vue@3.5.16_typescript@5.5.4_-Bqjl69Su.js";import{v as V,y as j}from"./@vue_reactivity@3.5.16-Dqy0TPbS.js";import{O as b}from"./@vue_shared@3.5.16-UwmvJIHj.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@vue_runtime-dom@3.5.16-DriBzn4z.js";import"./@vueuse_core@12.8.2_typescript@5.5.4-7kYVjNRB.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-CuUdMqkw.js";import"./mitt@3.0.1-C1z4c41a.js";import"./@codemirror_language-data@6.5.1-Blx1hvTn.js";import"./@codemirror_language@6.11.1-BYrSuhr8.js";import"./@lezer_common@1.2.3-CP7NCNqd.js";import"./@codemirror_state@6.5.2-DQ6R6BiX.js";import"./@marijn_find-cluster-break@1.0.2-DXwl3gUT.js";import"./@codemirror_view@6.37.1-Bd3_Yh4F.js";import"./style-mod@4.1.2-Bc2inJdb.js";import"./w3c-keyname@2.2.8-Vcq4gwWv.js";import"./@lezer_highlight@1.2.1-DwVMghhY.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.16_typescript@5.5.4_-BZ2tmr1d.js";import"./vue-router@4.5.1_vue@3.5.16_typescript@5.5.4_-ODt3CAxp.js";import"./element-plus@2.9.11_vue@3.5.16_typescript@5.5.4_-BTKo5Rtv.js";import"./@vueuse_shared@9.13.0_vue@3.5.16_typescript@5.5.4_-4q0MSQPl.js";import"./@vueuse_core@9.13.0_vue@3.5.16_typescript@5.5.4_-DmiypGF2.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.16_typescript@5.5.4_-CeLFb4Nw.js";import"./@sxzz_popperjs-es@2.11.7-D_chPuIy.js";import"./@ctrl_tinycolor@3.6.1-r5W6hzzQ.js";import"./dayjs@1.11.13-DUxgsv0d.js";import"./chardet@2.1.0-CTPPlwpv.js";import"./async-validator@4.2.5-CDKkdPIV.js";import"./memoize-one@6.0.0-BdPwpGay.js";import"./normalize-wheel-es@1.2.0-BQoi3Ox2.js";import"./@floating-ui_dom@1.7.1-Ba-2EiSn.js";import"./@floating-ui_core@1.7.1-C83JrwzW.js";import"./@floating-ui_utils@0.2.9-CBkBHzV8.js";import"./comm-Ba3vmJ1R.js";import"./vue-echarts@7.0.3_@vue_runtime-core@3.5.16_echarts@5.6.0_vue@3.5.16_typescript@5.5.4_-Dhz4IGE5.js";import"./echarts@5.6.0-DvAKqd2B.js";import"./tslib@2.3.0-BDyQ-Jie.js";import"./zrender@5.6.1-DcQm8NwP.js";import"./axios@1.9.0-D--XfsWq.js";import"./nprogress@0.2.0-dOd6e7EG.js";import"./@intlify_core-base@11.1.5-rFPZQXdu.js";import"./@intlify_shared@11.1.5-CY44FrR8.js";import"./@intlify_message-compiler@11.1.5-CZ-uatfp.js";import"./group-CxGNcSJX.js";import"./index-BBsnAnZ8.js";import"./index-D9jMTor-.js";const G={key:1,class:"cl-upload-space__list"},K=S({name:"undefined"}),Q=S({...K,name:"cl-upload-space",props:{modelValue:[String,Array],title:String,text:String,multiple:{type:Boolean,default:!0},limit:{type:Number,default:9},accept:String,showBtn:{type:Boolean,default:!0},showList:{type:Boolean,default:!0}},emits:["update:modelValue","change","confirm"],setup(n,{expose:$,emit:N}){const{t:u}=R(),o=n,c=N,{refs:k,setRefs:T}=I(),s=V(!1),a=V({title:"",limit:9}),l=V([]),d=B(()=>{var t;return((t=k.inner)==null?void 0:t.selection)||[]}),E=B(()=>o.text||u("选择文件"));function y(t){s.value=!0,a.value=P({...o,title:o.title||u("文件空间"),text:o.text||u("点击上传")},t),o.multiple||(a.value.limit=1),O(()=>{var e;(e=k.inner)==null||e.clear()})}function f(){s.value=!1}function h(t){const e=t||d.value;l.value=e.map(v=>v.url);const i=o.multiple?l.value:l.value[0];c("update:modelValue",i),c("change",i),c("confirm",e),f()}return z(()=>{A(()=>o.modelValue,t=>{t&&(l.value=U(t)?[t]:t)},{immediate:!0})}),$({open:y,close:f}),(t,e)=>{const i=g("el-button"),v=g("cl-upload"),F=g("cl-dialog");return _(),C(M,null,[D(t.$slots,"default",{},void 0,!0),n.showBtn?(_(),H(i,{key:0,onClick:y},{default:m(()=>[x(b(E.value),1)]),_:1})):w("",!0),l.value.length>0&&n.showList?(_(),C("div",G,[r(v,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=p=>l.value=p),disabled:"",deletable:"",draggable:"",multiple:n.multiple},null,8,["modelValue","multiple"])])):w("",!0),r(F,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=p=>s.value=p),title:a.value.title,height:"650px",width:"1070px",padding:"0","keep-alive":"",scrollbar:!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:m(()=>[r(i,{onClick:f},{default:m(()=>[x(b(t.$t("取消")),1)]),_:1}),r(i,{disabled:d.value.length==0,type:"success",onClick:e[1]||(e[1]=p=>h())},{default:m(()=>[x(b(t.$t("选择 {count}/{limit} 个",{count:d.value.length,limit:a.value.limit})),1)]),_:1},8,["disabled"])]),default:m(()=>[r(L,J({ref:j(T)("inner")},a.value,{onConfirm:h}),null,16)]),_:1},8,["modelValue","title"])],64)}}}),Gt=q(Q,[["__scopeId","data-v-71e7e709"]]);export{Gt as default};
