import{w as Y,i as Z,t as j,a as Q,u as ee,b as q,c as te,d as ne,e as K,f as ae,p as P,g as re,h as oe,j as se}from"./@vueuse_shared@12.8.2_typescript@5.5.4-CuUdMqkw.js";import{D as w,y as ue,x as N,v as X,l as le}from"./@vue_reactivity@3.5.16-Dqy0TPbS.js";import{v as _,w as z,e as ie,g as ce,Q as de,R as fe,n as ve}from"./@vue_runtime-core@3.5.16-Cn8z-kNe.js";const V=Q?window:void 0,G=Q?window.navigator:void 0;function $(e){var t;const a=w(e);return(t=a==null?void 0:a.$el)!=null?t:a}function L(...e){const t=[],a=()=>{t.forEach(r=>r()),t.length=0},s=(r,i,c,n)=>(r.addEventListener(i,c,n),()=>r.removeEventListener(i,c,n)),u=_(()=>{const r=j(w(e[0])).filter(i=>i!=null);return r.every(i=>typeof i!="string")?r:void 0}),l=Y(()=>{var r,i;return[(i=(r=u.value)==null?void 0:r.map(c=>$(c)))!=null?i:[V].filter(c=>c!=null),j(w(u.value?e[1]:e[0])),j(ue(u.value?e[2]:e[1])),w(u.value?e[3]:e[2])]},([r,i,c,n])=>{if(a(),!(r!=null&&r.length)||!(i!=null&&i.length)||!(c!=null&&c.length))return;const o=Z(n)?{...n}:n;t.push(...r.flatMap(y=>i.flatMap(h=>c.map(p=>s(y,h,p,o)))))},{flush:"post"}),f=()=>{l(),a()};return q(a),f}function me(){const e=N(!1),t=ce();return t&&ie(()=>{e.value=!0},t),e}function J(e){const t=me();return _(()=>(t.value,!!e()))}const pe=Symbol("vueuse-ssr-width");function ye(){const e=fe()?re(pe,null):null;return typeof e=="number"?e:void 0}function he(e,t={}){const{window:a=V,ssrWidth:s=ye()}=t,u=J(()=>a&&"matchMedia"in a&&typeof a.matchMedia=="function"),l=N(typeof s=="number"),f=N(),r=N(!1),i=c=>{r.value=c.matches};return de(()=>{if(l.value){l.value=!u.value;const c=w(e).split(",");r.value=c.some(n=>{const o=n.includes("not all"),y=n.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=n.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let p=!!(y||h);return y&&p&&(p=s>=P(y[1])),h&&p&&(p=s<=P(h[1])),o?!p:p});return}u.value&&(f.value=a.matchMedia(w(e)),r.value=f.value.matches)}),L(f,"change",i,{passive:!0}),_(()=>r.value)}function B(e,t={}){const{controls:a=!1,navigator:s=G}=t,u=J(()=>s&&"permissions"in s),l=N(),f=typeof e=="string"?{name:e}:e,r=N(),i=()=>{var n,o;r.value=(o=(n=l.value)==null?void 0:n.state)!=null?o:"prompt"};L(l,"change",i,{passive:!0});const c=te(async()=>{if(u.value){if(!l.value)try{l.value=await s.permissions.query(f)}catch{l.value=void 0}finally{i()}if(a)return le(l.value)}});return c(),a?{state:r,isSupported:u,query:c}:r}function Oe(e={}){const{navigator:t=G,read:a=!1,source:s,copiedDuring:u=1500,legacy:l=!1}=e,f=J(()=>t&&"clipboard"in t),r=B("clipboard-read"),i=B("clipboard-write"),c=_(()=>f.value||l),n=N(""),o=N(!1),y=ee(()=>o.value=!1,u,{immediate:!1});async function h(){let v=!(f.value&&k(r.value));if(!v)try{n.value=await t.clipboard.readText()}catch{v=!0}v&&(n.value=T())}c.value&&a&&L(["copy","cut"],h,{passive:!0});async function p(v=w(s)){if(c.value&&v!=null){let m=!(f.value&&k(i.value));if(!m)try{await t.clipboard.writeText(v)}catch{m=!0}m&&S(v),n.value=v,o.value=!0,y.start()}}function S(v){const m=document.createElement("textarea");m.value=v??"",m.style.position="absolute",m.style.opacity="0",document.body.appendChild(m),m.select(),document.execCommand("copy"),m.remove()}function T(){var v,m,b;return(b=(m=(v=document==null?void 0:document.getSelection)==null?void 0:v.call(document))==null?void 0:m.toString())!=null?b:""}function k(v){return v==="granted"||v==="prompt"}return{isSupported:c,text:n,copied:o,copy:p}}const R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W="__vueuse_ssr_handlers__",ge=we();function we(){return W in R||(R[W]=R[W]||{}),R[W]}function U(e,t){return ge[e]||t}function be(e){return he("(prefers-color-scheme: dark)",e)}function Se(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ce={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},I="vueuse-storage";function ke(e,t,a,s={}){var u;const{flush:l="pre",deep:f=!0,listenToStorageChanges:r=!0,writeDefaults:i=!0,mergeDefaults:c=!1,shallow:n,window:o=V,eventFilter:y,onError:h=d=>{},initOnMounted:p}=s,S=(n?N:X)(typeof t=="function"?t():t),T=_(()=>w(e));if(!a)try{a=U("getDefaultStorage",()=>{var d;return(d=V)==null?void 0:d.localStorage})()}catch(d){h(d)}if(!a)return S;const k=w(t),v=Se(k),m=(u=s.serializer)!=null?u:Ce[v],{pause:b,resume:E}=ae(S,()=>M(S.value),{flush:l,deep:f,eventFilter:y});z(T,()=>D(),{flush:l}),o&&r&&K(()=>{a instanceof Storage?L(o,"storage",D,{passive:!0}):L(o,I,x),p&&D()}),p||D();function A(d,g){if(o){const C={key:T.value,oldValue:d,newValue:g,storageArea:a};o.dispatchEvent(a instanceof Storage?new StorageEvent("storage",C):new CustomEvent(I,{detail:C}))}}function M(d){try{const g=a.getItem(T.value);if(d==null)A(g,null),a.removeItem(T.value);else{const C=m.write(d);g!==C&&(a.setItem(T.value,C),A(g,C))}}catch(g){h(g)}}function O(d){const g=d?d.newValue:a.getItem(T.value);if(g==null)return i&&k!=null&&a.setItem(T.value,m.write(k)),k;if(!d&&c){const C=m.read(g);return typeof c=="function"?c(C,k):v==="object"&&!Array.isArray(C)?{...k,...C}:C}else return typeof g!="string"?g:m.read(g)}function D(d){if(!(d&&d.storageArea!==a)){if(d&&d.key==null){S.value=k;return}if(!(d&&d.key!==T.value)){b();try{(d==null?void 0:d.newValue)!==m.write(S.value)&&(S.value=O(d))}catch(g){h(g)}finally{d?ve(E):E()}}}}function x(d){D(d.detail)}return S}const Te="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Ae(e={}){const{selector:t="html",attribute:a="class",initialValue:s="auto",window:u=V,storage:l,storageKey:f="vueuse-color-scheme",listenToStorageChanges:r=!0,storageRef:i,emitAuto:c,disableTransition:n=!0}=e,o={auto:"",light:"light",dark:"dark",...e.modes||{}},y=be({window:u}),h=_(()=>y.value?"dark":"light"),p=i||(f==null?ne(s):ke(f,s,l,{window:u,listenToStorageChanges:r})),S=_(()=>p.value==="auto"?h.value:p.value),T=U("updateHTMLAttrs",(b,E,A)=>{const M=typeof b=="string"?u==null?void 0:u.document.querySelector(b):$(b);if(!M)return;const O=new Set,D=new Set;let x=null;if(E==="class"){const g=A.split(/\s/g);Object.values(o).flatMap(C=>(C||"").split(/\s/g)).filter(Boolean).forEach(C=>{g.includes(C)?O.add(C):D.add(C)})}else x={key:E,value:A};if(O.size===0&&D.size===0&&x===null)return;let d;n&&(d=u.document.createElement("style"),d.appendChild(document.createTextNode(Te)),u.document.head.appendChild(d));for(const g of O)M.classList.add(g);for(const g of D)M.classList.remove(g);x&&M.setAttribute(x.key,x.value),n&&(u.getComputedStyle(d).opacity,document.head.removeChild(d))});function k(b){var E;T(t,a,(E=o[b])!=null?E:b)}function v(b){e.onChanged?e.onChanged(b,k):k(b)}z(S,v,{flush:"post",immediate:!0}),K(()=>v(S.value));const m=_({get(){return c?p.value:S.value},set(b){p.value=b}});return Object.assign(m,{store:p,system:h,state:S})}function xe(e={}){const{valueDark:t="dark",valueLight:a=""}=e,s=Ae({...e,onChanged:(f,r)=>{var i;e.onChanged?(i=e.onChanged)==null||i.call(e,f==="dark",r,f):r(f)},modes:{dark:t,light:a}}),u=_(()=>s.system.value);return _({get(){return s.value==="dark"},set(f){const r=f?"dark":"light";u.value===r?s.value="auto":s.value=r}})}function _e([e,t,a,s]){const u=(n,o)=>1-3*o+3*n,l=(n,o)=>3*o-6*n,f=n=>3*n,r=(n,o,y)=>((u(o,y)*n+l(o,y))*n+f(o))*n,i=(n,o,y)=>3*u(o,y)*n*n+2*l(o,y)*n+f(o),c=n=>{let o=n;for(let y=0;y<4;++y){const h=i(o,e,a);if(h===0)return o;const p=r(o,e,a)-n;o-=p/h}return o};return n=>e===t&&a===s?n:r(c(n),t,s)}function H(e,t,a){return e+a*(t-e)}function F(e){return(typeof e=="number"?[e]:e)||[]}function Ee(e,t,a,s={}){var u,l;const f=w(t),r=w(a),i=F(f),c=F(r),n=(u=w(s.duration))!=null?u:1e3,o=Date.now(),y=Date.now()+n,h=typeof s.transition=="function"?s.transition:(l=w(s.transition))!=null?l:se,p=typeof h=="function"?h:_e(h);return new Promise(S=>{e.value=f;const T=()=>{var k;if((k=s.abort)!=null&&k.call(s)){S();return}const v=Date.now(),m=p((v-o)/n),b=F(e.value).map((E,A)=>H(i[A],c[A],m));Array.isArray(e.value)?e.value=b.map((E,A)=>{var M,O;return H((M=i[A])!=null?M:0,(O=c[A])!=null?O:0,m)}):typeof e.value=="number"&&(e.value=b[0]),v<y?requestAnimationFrame(T):(e.value=r,S())};T()})}function Ve(e,t={}){let a=0;const s=()=>{const l=w(e);return typeof l=="number"?l:l.map(w)},u=X(s());return z(s,async l=>{var f,r;if(w(t.disabled))return;const i=++a;if(t.delay&&await oe(w(t.delay)),i!==a)return;const c=Array.isArray(l)?l.map(w):w(l);(f=t.onStarted)==null||f.call(t),await Ee(u,u.value,c,{...t,abort:()=>{var n;return i!==a||((n=t.abort)==null?void 0:n.call(t))}}),(r=t.onFinished)==null||r.call(t)},{deep:!0}),z(()=>w(t.disabled),l=>{l&&(a++,u.value=s())}),q(()=>{a++}),_(()=>w(t.disabled)?s():u.value)}export{xe as a,Oe as b,Ve as c,L as u};
