import{b as q}from"./@vueuse_core@12.8.2_typescript@5.5.4-7kYVjNRB.js";import{u as G}from"./index-BDeQYItE.js";import"./store@2.0.12-i6xqVJod.js";import"./comm-Ba3vmJ1R.js";import{C as K}from"./index-l1IOnGdE.js";import{x as Q,z as W}from"./lodash-es@4.17.21-BYk7DlcU.js";import{a as X}from"./element-plus@2.9.11_vue@3.5.16_typescript@5.5.4_-BTKo5Rtv.js";import{d as E,v as m,P as p,c as h,o as n,x as V,i as z,H as s,a as O,y as u,z as k,F as T,L as Y,E as Z,J as w,n as ee}from"./@vue_runtime-core@3.5.16-Cn8z-kNe.js";import{u as te}from"./vue-i18n@11.1.5_vue@3.5.16_typescript@5.5.4_-Bqjl69Su.js";import{v as d,y as oe}from"./@vue_reactivity@3.5.16-Dqy0TPbS.js";import{O as y}from"./@vue_shared@3.5.16-UwmvJIHj.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-CuUdMqkw.js";import"./@vue_runtime-dom@3.5.16-DriBzn4z.js";import"./mitt@3.0.1-C1z4c41a.js";import"./@codemirror_language-data@6.5.1-Blx1hvTn.js";import"./@codemirror_language@6.11.1-BYrSuhr8.js";import"./@lezer_common@1.2.3-CP7NCNqd.js";import"./@codemirror_state@6.5.2-DQ6R6BiX.js";import"./@marijn_find-cluster-break@1.0.2-DXwl3gUT.js";import"./@codemirror_view@6.37.1-Bd3_Yh4F.js";import"./style-mod@4.1.2-Bc2inJdb.js";import"./w3c-keyname@2.2.8-Vcq4gwWv.js";import"./@lezer_highlight@1.2.1-DwVMghhY.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.16_typescript@5.5.4_-BZ2tmr1d.js";import"./vue-router@4.5.1_vue@3.5.16_typescript@5.5.4_-ODt3CAxp.js";import"./vue-echarts@7.0.3_@vue_runtime-core@3.5.16_echarts@5.6.0_vue@3.5.16_typescript@5.5.4_-Dhz4IGE5.js";import"./echarts@5.6.0-DvAKqd2B.js";import"./tslib@2.3.0-BDyQ-Jie.js";import"./zrender@5.6.1-DcQm8NwP.js";import"./axios@1.9.0-D--XfsWq.js";import"./nprogress@0.2.0-dOd6e7EG.js";import"./chardet@2.1.0-CTPPlwpv.js";import"./@vueuse_shared@9.13.0_vue@3.5.16_typescript@5.5.4_-4q0MSQPl.js";import"./@vueuse_core@9.13.0_vue@3.5.16_typescript@5.5.4_-DmiypGF2.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.16_typescript@5.5.4_-CeLFb4Nw.js";import"./@sxzz_popperjs-es@2.11.7-D_chPuIy.js";import"./@ctrl_tinycolor@3.6.1-r5W6hzzQ.js";import"./dayjs@1.11.13-DUxgsv0d.js";import"./async-validator@4.2.5-CDKkdPIV.js";import"./memoize-one@6.0.0-BdPwpGay.js";import"./normalize-wheel-es@1.2.0-BQoi3Ox2.js";import"./@floating-ui_dom@1.7.1-Ba-2EiSn.js";import"./@floating-ui_core@1.7.1-C83JrwzW.js";import"./@floating-ui_utils@0.2.9-CBkBHzV8.js";import"./@intlify_core-base@11.1.5-rFPZQXdu.js";import"./@intlify_shared@11.1.5-CY44FrR8.js";import"./@intlify_message-compiler@11.1.5-CZ-uatfp.js";const ae={class:"cl-editor-preview"},ne={class:"cl-editor-preview__container"},ie={key:1,class:"content"},le=E({name:"undefined"}),se=E({...le,name:"cl-editor-preview",props:{...K,modelValue:String,title:String,name:String,text:String,type:{type:String,default:"text"},showBtn:{type:Boolean,default:!0},height:{type:String,default:"60vh"},width:{type:String,default:"60%"},formatter:Function,tabs:Array,props:Object},setup(i,{expose:F}){const o=i,{refs:P,setRefs:U}=G(),{copy:j}=q(),{t:c}=te(),f=d(!1),l=d(""),S=d(),b=d(0),v=d([]),_=m(()=>o.type=="code"),I=m(()=>_),J=m(()=>({language:S.value,...o.props})),L=m(()=>o.title||(_.value?c("代码预览"):c("文本预览"))),A=m(()=>o.text||c("点击查看"));async function B(e){e||(e=o.modelValue),o.formatter&&(e=o.formatter(e)),o.tabs?(v.value=o.tabs,x(0)):$(e),f.value=!0}function $(e){Q(e)?l.value=e:W(e)&&(l.value=JSON.stringify(e,null,4))}async function x(e){var r,g;const t=v.value[e];S.value=t.language,$(t.data),await ee(),_.value&&((g=(r=P.editor)==null?void 0:r.formatCode)==null||g.call(r))}function N(){f.value=!1}function D(){j(l.value),X.success(c("复制成功"))}return F({open:B,close:N}),(e,t)=>{const r=p("el-button"),g=p("el-tab-pane"),H=p("el-tabs"),M=p("cl-editor"),R=p("cl-dialog");return n(),h(T,null,[V(e.$slots,"default",{},()=>[i.showBtn?(n(),u(r,{key:0,onClick:t[0]||(t[0]=a=>B())},{default:s(()=>[w(y(A.value),1)]),_:1})):k("",!0)],!0),z(R,{modelValue:f.value,"onUpdate:modelValue":t[3]||(t[3]=a=>f.value=a),height:i.height,width:i.width,title:L.value,scrollbar:"","append-to-body":""},{footer:s(()=>[z(r,{onClick:N},{default:s(()=>[w(y(e.$t("关闭")),1)]),_:1}),I.value?(n(),u(r,{key:0,type:"success",onClick:D},{default:s(()=>[w(y(e.$t("复制")),1)]),_:1})):k("",!0)]),default:s(()=>[O("div",ae,[v.value.length>1?(n(),u(H,{key:0,modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=a=>b.value=a),type:"card",onTabChange:x},{default:s(()=>[(n(!0),h(T,null,Y(v.value,(a,C)=>(n(),u(g,{key:C,label:a.name,name:C,lazy:C!=0},null,8,["label","name","lazy"]))),128))]),_:1},8,["modelValue"])):k("",!0),O("div",ne,[V(e.$slots,"prepend",{},void 0,!0),i.name?(n(),u(M,Z({ref:oe(U)("editor"),key:b.value},J.value,{modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=a=>l.value=a),name:`cl-editor-${i.name}`,height:"100%",preview:""}),null,16,["modelValue","name"])):(n(),h("div",ie,y(l.value),1)),V(e.$slots,"append",{},void 0,!0)])])]),_:3},8,["modelValue","height","width","title"])],64)}}}),rt=re(se,[["__scopeId","data-v-62696faa"]]);export{rt as default};
