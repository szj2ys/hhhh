import{u as L,e as T,c as g}from"./comm-Ba3vmJ1R.js";import{u as W}from"./index-C5WS2hJt.js";import"./store@2.0.12-i6xqVJod.js";import{d as s,P as t,y as B,o as S,H as l,i as e,a as i}from"./@vue_runtime-core@3.5.16-Cn8z-kNe.js";import{u as q}from"./vue-i18n@11.1.5_vue@3.5.16_typescript@5.5.4_-Bqjl69Su.js";import{O as N}from"./@vue_shared@3.5.16-UwmvJIHj.js";import{y as O}from"./@vue_reactivity@3.5.16-Dqy0TPbS.js";import"./@vue_runtime-dom@3.5.16-DriBzn4z.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.16_typescript@5.5.4_-CeLFb4Nw.js";import"./element-plus@2.9.11_vue@3.5.16_typescript@5.5.4_-BTKo5Rtv.js";import"./lodash-es@4.17.21-BYk7DlcU.js";import"./@vueuse_shared@9.13.0_vue@3.5.16_typescript@5.5.4_-4q0MSQPl.js";import"./@vueuse_core@9.13.0_vue@3.5.16_typescript@5.5.4_-DmiypGF2.js";import"./@sxzz_popperjs-es@2.11.7-D_chPuIy.js";import"./@ctrl_tinycolor@3.6.1-r5W6hzzQ.js";import"./dayjs@1.11.13-DUxgsv0d.js";import"./chardet@2.1.0-CTPPlwpv.js";import"./async-validator@4.2.5-CDKkdPIV.js";import"./memoize-one@6.0.0-BdPwpGay.js";import"./normalize-wheel-es@1.2.0-BQoi3Ox2.js";import"./@floating-ui_dom@1.7.1-Ba-2EiSn.js";import"./@floating-ui_core@1.7.1-C83JrwzW.js";import"./@floating-ui_utils@0.2.9-CBkBHzV8.js";import"./@vueuse_core@12.8.2_typescript@5.5.4-7kYVjNRB.js";import"./@vueuse_shared@12.8.2_typescript@5.5.4-CuUdMqkw.js";import"./mitt@3.0.1-C1z4c41a.js";import"./@codemirror_language-data@6.5.1-Blx1hvTn.js";import"./@codemirror_language@6.11.1-BYrSuhr8.js";import"./@lezer_common@1.2.3-CP7NCNqd.js";import"./@codemirror_state@6.5.2-DQ6R6BiX.js";import"./@marijn_find-cluster-break@1.0.2-DXwl3gUT.js";import"./@codemirror_view@6.37.1-Bd3_Yh4F.js";import"./style-mod@4.1.2-Bc2inJdb.js";import"./w3c-keyname@2.2.8-Vcq4gwWv.js";import"./@lezer_highlight@1.2.1-DwVMghhY.js";import"./pinia@2.3.1_typescript@5.5.4_vue@3.5.16_typescript@5.5.4_-BZ2tmr1d.js";import"./vue-router@4.5.1_vue@3.5.16_typescript@5.5.4_-ODt3CAxp.js";import"./vue-echarts@7.0.3_@vue_runtime-core@3.5.16_echarts@5.6.0_vue@3.5.16_typescript@5.5.4_-Dhz4IGE5.js";import"./echarts@5.6.0-DvAKqd2B.js";import"./tslib@2.3.0-BDyQ-Jie.js";import"./zrender@5.6.1-DcQm8NwP.js";import"./axios@1.9.0-D--XfsWq.js";import"./nprogress@0.2.0-dOd6e7EG.js";import"./@intlify_core-base@11.1.5-rFPZQXdu.js";import"./@intlify_shared@11.1.5-CY44FrR8.js";import"./@intlify_message-compiler@11.1.5-CZ-uatfp.js";const $={style:{marginLeft:"10px",fontSize:"12px"}},z=s({name:"undefined"}),Be=s({...z,name:"sys-role",setup(D){const{t:o}=q(),{service:_}=W(),d=L({service:_.base.sys.role},r=>{r.refresh()}),u=T({dialog:{width:"800px"},items:[{prop:"name",label:o("名称"),span:12,required:!0,component:{name:"el-input"}},{prop:"label",label:o("标识"),span:12,required:!0,component:{name:"el-input"}},{prop:"remark",label:o("备注"),span:24,component:{name:"el-input",props:{type:"textarea",rows:4}}},{label:o("功能权限"),prop:"menuIdList",value:[],component:{name:"cl-menu-check"}},{label:o("数据权限"),prop:"relevance",component:{name:"slot-relevance"}}],onSubmit(r,{next:a}){a({...r,departmentIdList:r.departmentIdList||[]})}}),f=g({columns:[{type:"selection",width:60},{prop:"name",label:o("名称"),minWidth:150},{prop:"label",label:o("标识"),minWidth:120},{prop:"remark",label:o("备注"),showOverflowTooltip:!0,minWidth:150},{prop:"createTime",label:o("创建时间"),sortable:"desc",minWidth:170},{prop:"updateTime",label:o("更新时间"),sortable:"custom",minWidth:170},{type:"op"}]});return(r,a)=>{const b=t("cl-refresh-btn"),h=t("cl-add-btn"),y=t("cl-multi-delete-btn"),c=t("cl-flex1"),k=t("cl-search-key"),p=t("cl-row"),v=t("cl-table"),w=t("cl-pagination"),V=t("cl-switch"),x=t("el-row"),C=t("cl-dept-check"),U=t("cl-upsert"),I=t("cl-crud");return S(),B(I,{ref_key:"Crud",ref:d},{default:l(()=>[e(p,null,{default:l(()=>[e(b),e(h),e(y),e(c),e(k,{placeholder:r.$t("搜索名称")},null,8,["placeholder"])]),_:1}),e(p,null,{default:l(()=>[e(v,{ref_key:"Table",ref:f},null,512)]),_:1}),e(p,null,{default:l(()=>[e(c),e(w)]),_:1}),e(U,{ref_key:"Upsert",ref:u},{"slot-relevance":l(({scope:n})=>[i("div",null,[e(x,null,{default:l(()=>[e(V,{modelValue:n.relevance,"onUpdate:modelValue":m=>n.relevance=m},null,8,["modelValue","onUpdate:modelValue"]),i("span",$,N(O(o)("是否关联上下级")),1)]),_:2},1024),e(C,{modelValue:n.departmentIdList,"onUpdate:modelValue":m=>n.departmentIdList=m,"check-strictly":n.relevance==0},null,8,["modelValue","onUpdate:modelValue","check-strictly"])])]),_:1},512)]),_:1},512)}}});export{Be as default};
