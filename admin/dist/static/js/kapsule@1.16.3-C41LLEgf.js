import{d as W}from"./lodash-es@4.17.21-BYk7DlcU.js";function F(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function q(t){if(Array.isArray(t))return t}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function D(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,p,f,d,u=[],v=!0,g=!1;try{if(f=(n=n.call(t)).next,e!==0)for(;!(v=(i=f.call(n)).done)&&(u.push(i.value),u.length!==e);v=!0);}catch(m){g=!0,p=m}finally{try{if(!v&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(g)throw p}}return u}}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(t,e){return q(t)||D(t,e)||Q(t,e)||G()}function Q(t,e){if(t){if(typeof t=="string")return F(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}var X=B(function t(e,n){var i=n.default,p=i===void 0?null:i,f=n.triggerUpdate,d=f===void 0?!0:f,u=n.onChange,v=u===void 0?function(g,m){}:u;z(this,t),this.name=e,this.defaultVal=p,this.triggerUpdate=d,this.onChange=v});function Z(t){var e=t.stateInit,n=e===void 0?function(){return{}}:e,i=t.props,p=i===void 0?{}:i,f=t.methods,d=f===void 0?{}:f,u=t.aliases,v=u===void 0?{}:u,g=t.init,m=g===void 0?function(){}:g,V=t.update,L=V===void 0?function(){}:V,j=Object.keys(p).map(function(y){return new X(y,p[y])});return function y(){for(var I=arguments.length,C=new Array(I),b=0;b<I;b++)C[b]=arguments[b];var O=!!(this instanceof y&&this.constructor),S=O?C.shift():void 0,E=C[0],U=E===void 0?{}:E,l=Object.assign({},n instanceof Function?n(U):n,{initialised:!1}),$={};function r(a){return M(a,U),A(),r}var M=function(s,o){m.call(r,s,l,o),l.initialised=!0},A=W(function(){l.initialised&&(L.call(r,l,$),$={})},1);return j.forEach(function(a){r[a.name]=s(a);function s(o){var c=o.name,h=o.triggerUpdate,H=h===void 0?!1:h,T=o.onChange,K=T===void 0?function(P,w){}:T,_=o.defaultVal,R=_===void 0?null:_;return function(P){var w=l[c];if(!arguments.length)return w;var x=P===void 0?R:P;return l[c]=x,K.call(r,x,l,w),!$.hasOwnProperty(c)&&($[c]=w),H&&A(),r}}}),Object.keys(d).forEach(function(a){r[a]=function(){for(var s,o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];return(s=d[a]).call.apply(s,[r,l].concat(c))}}),Object.entries(v).forEach(function(a){var s=J(a,2),o=s[0],c=s[1];return r[o]=r[c]}),r.resetProps=function(){return j.forEach(function(a){r[a.name](a.defaultVal)}),r},r.resetProps(),l._rerender=A,O&&S&&r(S),r}}export{Z as i};
